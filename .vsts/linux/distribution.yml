steps:
  - template: ./linux-dependencies.yml
  - script: |
      set -e
      . "$(Agent.WorkFolder)/.venv/batchexplorer/bin/activate"
      npm run build:package
    displayName: Build and pack
  - script: |
      set -e
      . "$(Agent.WorkFolder)/.venv/batchexplorer/bin/activate"
      npm run package linux-manifest
    workingDirectory: desktop
    displayName: Create manifest
  - template: ../common/generate-sbom.yml
  - template: ../common/publish-artifacts.yml
    parameters:
      folder: linux
