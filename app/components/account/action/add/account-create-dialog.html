<div class="slideout-form content-wrapper">
    <h1>Add a Batch account credential</h1>
    <p>Account credentials can be copied from the Batch portal</p>
    <img src="./assets/images/ajax/loading.gif" alt="loading ..." class="loading-indicator" [ngClass]="{ 'loading': isSaving }"
    />
    <form (ngSubmit)="onSubmit()" #accountForm="ngForm" [ngClass]="{ 'loading': isSaving }">
        <div class="form-element">
            <mat-form-field>
                <input matInput placeholder="Display name" [(ngModel)]="account.alias" name="alias" required mat-no-asterisk #alias="ngModel">
            </mat-form-field>
            <div [hidden]="alias.valid || alias.pristine" class="required-alert">Alias is a required field</div>
        </div>

        <div class="form-element">
            <mat-form-field>
                <input matInput placeholder="Account name" [(ngModel)]="account.name" name="name" required mat-no-asterisk #name="ngModel">
            </mat-form-field>
                <div [hidden]="name.valid || name.pristine" class="required-alert">Name is a required field</div>
        </div>

        <div class="form-element">
            <mat-form-field>
                <input matInput placeholder="Url" [(ngModel)]="account.url" name="url" required mat-no-asterisk #url="ngModel">
                <mat-hint align="end">https://(accountname).(region).batch.azure.com</mat-hint>
            </mat-form-field>
            <div [hidden]="url.valid || url.pristine" class="required-alert">Url is a required field</div>
        </div>

        <div class="form-element">
            <mat-form-field>
                <input matInput placeholder="Key" [(ngModel)]="account.key" name="key" required mat-no-asterisk #key="ngModel">
            </mat-form-field>
            <div [hidden]="key.valid || key.pristine" class="required-alert">Key is a required field</div>
        </div>

        <div class="form-element">
            <mat-checkbox [(ngModel)]="account.isDefault" name="isDefault">
                Default (selected by default in the account selector)
            </mat-checkbox>
        </div>

        <div class="button-bar">
            <button type="submit" [disabled]="!accountForm.valid" class="submit-btn" mat-raised-button>Add</button>
            <button type="button" [disabled]="isSaving" (click)="sidebarRef.destroy()" class="" mat-raised-button>Close</button>
        </div>
    </form>
</div>
