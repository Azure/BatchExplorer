<bl-loading [status]="data.newDataStatus | async">
    <div *ngIf="application">
        <bl-summary-card>
            <div summaryTitle>{{decorator.id}}</div>
            <div summarySubtitle>
                <i class="fa" [ngClass]="application.allowUpdates ? 'fa-unlock-alt' : 'fa-lock'"></i> {{decorator.displayName}}
                <span *ngIf="application.allowUpdates">
                    <b>(unlocked)</b>
                </span>
                <span *ngIf="!application.allowUpdates">
                    <b>(locked)</b>
                </span>
            </div>
            <bl-button-group summaryActions>
                <bl-refresh-btn [refresh]="refresh"></bl-refresh-btn>
                <bl-add-button title="Add package" [action]="addPackage"></bl-add-button>
                <bl-edit-button [action]="editApplication"></bl-edit-button>
                <bl-delete-button [action]="deleteApplication" [enabled]="application.allowUpdates"></bl-delete-button>
            </bl-button-group>
        </bl-summary-card>
        <bl-application-error-display [application]="application"></bl-application-error-display>
        <mat-card class="details">
            <bl-tab-group>
                <bl-tab key="packages">
                    <bl-tab-label>Packages</bl-tab-label>
                    <div class="tab-padding">
                        <bl-application-packages [application]="application"></bl-application-packages>
                    </div>
                </bl-tab>
                <bl-tab key="properties">
                    <bl-tab-label>Properties</bl-tab-label>
                    <bl-application-properties [application]="application"></bl-application-properties>
                </bl-tab>
            </bl-tab-group>
        </mat-card>
    </div>
</bl-loading>
