<bl-complex-form [formGroup]="form" [submit]="submit" [containerRef]="sidebarRef">
    <bl-form-page main-form-page title="Create file group" [formGroup]="form">
        <bl-form-section title="General info" subtitle="Basic information about the file group">
            <div class="form-element">
                <md-input-container>
                    <input mdInput formControlName="name" placeholder="File group name">
                </md-input-container>
                <bl-error controlName="name" code="required">The file group name is a required field</bl-error>
                <bl-error controlName="name" code="maxlength">The file group name has a maximum length of 64 characters</bl-error>
                <bl-error controlName="name" code="pattern">The file group name can contain any combination of alphanumeric characters including hyphens and underscores</bl-error>
            </div>
        </bl-form-section>

        <bl-form-section title="Files" subtitle="Choose a directory containing the files you want to include in the file group">
            <div class="form-element">
                <!-- TODO: Hide this control and use a pretty looking button to launch the picker -->
                <input type="file" (change)="selectFolder($event)" webkitdirectory />
                <bl-error controlName="folder" code="required">Please select a valid directory that contains your files</bl-error>
                <div *ngIf="hasValidFolder()" class="input-summary">
                    <h4>Selected folder details</h4>
                    <p><b>{{ folder }}</b></p>
                    <!-- todo: include warning if too many files in folder. if we can even know how many -->
                </div>
            </div>
        </bl-form-section>

        <bl-form-section title="Select container access policy" subtitle="Select a container access policy for your file group.">
            <div class="form-element">
                <md-select formControlName="accessPolicy" color="primary" placeholder="Access policy">
                    <md-option value="private">Private</md-option>
                    <md-option value="public">Public</md-option>
                </md-select>
            </div>
            <p>
                Private means the container and it's blobs can be accessed only by the storage account owner and via a
                generated file or container SAS token. Public means blobs within the container can be read by anonymous
                requests.
            </p>
        </bl-form-section>
    </bl-form-page>
</bl-complex-form>
