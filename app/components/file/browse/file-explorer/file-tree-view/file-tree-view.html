<div class="tree-view-header">
    <bl-clickable class="caret" (do)="toggleExpandTreeView()">
        <i class="fa" [class.fa-caret-down]="expanded" [class.fa-caret-right]="!expanded"></i>
    </bl-clickable>
    <bl-clickable class="name" (do)="handleClickTreeViewHeader()">{{name}}</bl-clickable>
    <span class="error" *ngIf="fileNavigator.error" [title]="fileNavigator.error.body?.code">
        <i class="fa fa-warning"></i>
    </span>
    <bl-clickable (do)="refresh()">
        <i class="fa fa-refresh action" title="Refresh"></i>
    </bl-clickable>
    <bl-clickable (do)="collapseAll()">
        <i class="fa fa-compress collapse-all action" title="Collapse all"></i>
    </bl-clickable>
</div>
<div *ngIf="expanded">
    <div *ngIf="fileNavigator.error">
        {{fileNavigator.error.message}}
    </div>
    <div *ngFor="let treeRow of treeRows, trackBy: treeRowTrackBy" [style.padding-left]="((treeRow.indent + 1) * 12) + 'px'"
        class="tree-row" [title]="treeRow.path" (click)="handleClick(treeRow)">
        <span class="caret" (click)="handleCaretClick(treeRow, $event)">
            <i class="fa" [class.fa-caret-down]="treeRow.expanded" [class.fa-caret-right]="!treeRow.expanded" *ngIf="treeRow.isDirectory"></i>
        </span>
        <span class="file-icon">
            <i class="fa" [class.fa-folder]="treeRow.isDirectory" [class.fa-file]="!treeRow.isDirectory"></i>
        </span>
        <span class="label">{{treeRow.name}}</span>
    </div>
</div>
