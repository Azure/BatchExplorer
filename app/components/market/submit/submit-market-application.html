<bl-scrollable>
    <bl-complex-form [formGroup]="form" [submit]="submit" [hideFooter]="true">
        <bl-form-page main-form-page [title]="title" [formGroup]="form">
            <bl-form-section title="Job" subtitle="Job parameters">
                <md-input-container class="form-element" *ngIf="jobNameParam">
                    <input mdInput type="text" name="name" formControlName="jobName" placeholder="Job name">
                </md-input-container>
                <div *ngFor="let param of otherParameters" [ngSwitch]="param.type">
                    <div *ngSwitchCase="NcjParameterExtendedType.fileGroup">
                        <bl-file-group-picker [formControlName]="param.id" [label]="param.name" class="form-element" [hint]="param.description">
                        </bl-file-group-picker>
                    </div>
                    <div *ngSwitchCase="NcjParameterExtendedType.fileInFileGroup">
                        <bl-cloud-file-picker [containerId]="getContainerFromFileGroup(form.controls[param.dependsOn]?.value)" [formControlName]="param.id"
                            [label]="param.name" class="form-element" [hint]="param.description">
                        </bl-cloud-file-picker>
                    </div>
                    <div *ngSwitchDefault>
                        <md-input-container class="form-element">
                            <input mdInput type="text" name="name" [formControlName]="param.id" [placeholder]="param.name">
                            <md-hint align="end">{{param.description}}</md-hint>
                        </md-input-container>
                    </div>
                </div>
            </bl-form-section>
            <bl-form-section title="Pool">
                <bl-pool-picker [formControl]="pickedPool"></bl-pool-picker>
            </bl-form-section>
        </bl-form-page>
    </bl-complex-form>
    <div class="submit-box">
        <bl-server-error [error]="error"> </bl-server-error>
        <bl-button [action]="submit" type="wide" class="submit-job" color="success">
            <i class="fa fa-play"></i>
        </bl-button>
    </div>
</bl-scrollable>
