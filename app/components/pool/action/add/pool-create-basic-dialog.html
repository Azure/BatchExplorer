<div class="large-slideout-form content-wrapper">
    <h1>Add a pool to the account</h1>
    <p>Pools allow you to provision compute nodes to do work</p>
    <bl-create-form [formGroup]="form" [submit]="submit" [sidebarRef]="sidebarRef">
        <form novalidate [formGroup]="form">
            <div class="form-element">
                <md-input-container>
                    <input mdInput #idInput formControlName="id" placeholder="Id" maxlength="64">
                    <md-hint align="end">{{idInput.characterCount}} / 64</md-hint>
                </md-input-container>

                <bl-error controlName="id" code="required">Id is a required field</bl-error>
                <bl-error controlName="id" code="maxlength">Id has a maximum length of 64 characters</bl-error>
                <bl-error controlName="id" code="pattern">Id can contain any combination of alphanumeric characters including hyphens and underscores.</bl-error>
            </div>

            <div class="form-element">
                <md-input-container>
                    <input mdInput formControlName="displayName" placeholder="Display name">
                </md-input-container>
            </div>

            <div class="form-element">
                <h4>Select a scale mode</h4>
                <md-tab-group class="form-tabs" (selectChange)="changeScaleModeTab($event)">
                    <md-tab label="Fixed" class="banana">
                        <md-input-container>
                            <input mdInput formControlName="targetDedicated" placeholder="Number of virtual machines in pool" type="number" />
                        </md-input-container>
                        <bl-error controlName="targetDedicated" code="invalidTargetDedicated">Target size is a required field</bl-error>
                    </md-tab>
                    <md-tab label="Auto Scale" class="banana">
                        <bl-autoscale-formula-picker formControlName="autoScaleFormula"></bl-autoscale-formula-picker>
                        <bl-error controlName="autoScaleFormula" code="invalidAutoscaleFormula">Auto scale formula is a required field</bl-error>
                        <md-input-container>
                            <input mdInput formControlName="autoScaleEvaluationInterval" placeholder="Evaluation interval" type="number" />
                        </md-input-container>
                    </md-tab>
                </md-tab-group>
            </div>

            <div class="form-element">
                <bl-pool-os-picker formControlName="os"></bl-pool-os-picker>
            </div>

            <div class="form-element element-spacer">
                <bl-vm-size-picker formControlName="vmSize" [osSource]="osSource"></bl-vm-size-picker>
                <bl-error controlName="vmSize" code="required">You must select a VM size</bl-error>
            </div>
        </form>
    </bl-create-form>
</div>
