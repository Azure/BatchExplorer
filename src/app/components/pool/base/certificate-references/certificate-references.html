<bl-form-multi-picker
    [formControl]="references"
    #certificatesPicker addTitle="Add a certificate">
    <p *ngIf="certificates.length === 0">
        {{'certificate-references.noCertificates' | i18n }}
    </p>

    <ng-template blFormPickerItem let-value>
        <div title>
            {{ trimThumbprint(value?.thumbprint) }}
        </div>
        <div subtitle class="unaccent">
            {{value?.thumbprintAlgorithm}}
        </div>
    </ng-template>
    <div nested-form>
        <bl-certificate-picker
            [formControl]="certificatesPicker.currentEditValue"
            [certificates]="certificates"
            [currentCertificates]="references.value"
            [osType]="osType">
        </bl-certificate-picker>
    </div>

    <bl-error [control]="references" code="duplicate">Cannot reference the same certificate twice {{references.errors?.duplicate?.value}}</bl-error>
</bl-form-multi-picker>
